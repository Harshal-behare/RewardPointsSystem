<div class="employee-account">
  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title">ğŸ’° My Account</h1>
    <p class="page-subtitle">View your points and redemption history</p>
  </div>

  <!-- Summary Cards -->
  <div class="summary-section">
    <div class="summary-card earned">
      <div class="summary-icon">ğŸ“ˆ</div>
      <div class="summary-info">
        <span class="summary-label">Total Earned</span>
        <span class="summary-value">{{ totalEarned }}</span>
      </div>
    </div>

    <div class="summary-card balance">
      <div class="summary-icon">ğŸ’°</div>
      <div class="summary-info">
        <span class="summary-label">Current Balance</span>
        <span class="summary-value">{{ currentBalance }}</span>
      </div>
    </div>

    <div class="summary-card redeemed">
      <div class="summary-icon">ğŸ</div>
      <div class="summary-info">
        <span class="summary-label">Total Redeemed</span>
        <span class="summary-value">{{ totalRedeemed }}</span>
      </div>
    </div>
  </div>

  <!-- Tabs -->
  <div class="tabs-container">
    <div class="tabs-header">
      <button
        class="tab-btn"
        [class.active]="activeTab === 'points'"
        (click)="switchTab('points')"
      >
        ğŸ“Š Points History
      </button>
      <button
        class="tab-btn"
        [class.active]="activeTab === 'redemptions'"
        (click)="switchTab('redemptions')"
      >
        ğŸ›ï¸ Redemption History
      </button>
    </div>

    <!-- Points History Tab -->
    <div *ngIf="activeTab === 'points'" class="tab-content">
      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Description</th>
              <th>Event</th>
              <th>Rank</th>
              <th>Points</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let transaction of pointsHistory">
              <td>{{ transaction.date }}</td>
              <td>
                <div class="transaction-cell">
                  <span class="transaction-icon">{{ getTransactionIcon(transaction.type) }}</span>
                  <span>{{ transaction.description }}</span>
                </div>
              </td>
              <td>
                <span *ngIf="transaction.eventName" class="event-badge">
                  {{ transaction.eventName }}
                </span>
                <span *ngIf="!transaction.eventName" class="text-muted">-</span>
              </td>
              <td>
                <span *ngIf="transaction.rank" class="rank-badge">
                  ğŸ† #{{ transaction.rank }}
                </span>
                <span *ngIf="!transaction.rank" class="text-muted">-</span>
              </td>
              <td>
                <span
                  class="points-value"
                  [class.positive]="transaction.points > 0"
                  [class.negative]="transaction.points < 0"
                >
                  {{ transaction.points > 0 ? '+' : '' }}{{ transaction.points }}
                </span>
              </td>
              <td>
                <span class="status-badge" [ngClass]="getStatusClass(transaction.status)">
                  {{ transaction.status }}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Redemption History Tab -->
    <div *ngIf="activeTab === 'redemptions'" class="tab-content">
      <div class="table-container">
        <table class="data-table">
          <thead>
            <tr>
              <th>Date</th>
              <th>Product</th>
              <th>Points</th>
              <th>Status</th>
              <th>Tracking</th>
              <th>Delivery Address</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let redemption of redemptionHistory">
              <td>{{ redemption.date }}</td>
              <td>
                <span class="product-name">{{ redemption.productName }}</span>
              </td>
              <td>
                <span class="points-value negative">-{{ redemption.points }}</span>
              </td>
              <td>
                <span class="status-badge" [ngClass]="getStatusClass(redemption.status)">
                  {{ redemption.status | titlecase }}
                </span>
              </td>
              <td>
                <span *ngIf="redemption.trackingNumber" class="tracking-number">
                  {{ redemption.trackingNumber }}
                </span>
                <span *ngIf="!redemption.trackingNumber" class="text-muted">-</span>
              </td>
              <td>
                <span class="address-text">{{ redemption.deliveryAddress }}</span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="employee-layout">
  <!-- Sidebar -->
  <aside class="sidebar" [class.collapsed]="isSidebarCollapsed">
    <div class="sidebar-header">
  <img
    src="assets/Agdata_logo.png"
    alt="AGDATA Logo"
    class="sidebar-logo"
    [class.collapsed]="isSidebarCollapsed"
  />
</div>

    <nav class="sidebar-nav">
      @for (item of menuItems; track item.route) {
        <a
          [routerLink]="item.route"
          routerLinkActive="active"
          class="nav-item"
          (click)="setActiveMenu(item)"
        >
          <span class="nav-icon">{{ item.icon }}</span>
          @if (!isSidebarCollapsed) {
            <span class="nav-text">{{ item.name }}</span>
          }
        </a>
      }
    </nav>

    <div class="sidebar-footer">
      <button class="collapse-btn" (click)="toggleSidebar()">
        <span>{{ isSidebarCollapsed ? 'â†’' : 'â†' }}</span>
      </button>
    </div>
  </aside>

  <!-- Main Content Area -->
  <div class="main-content">
    <!-- Top Bar -->
    <header class="topbar">
      <div class="topbar-left">
        <h1 class="page-title">{{ pageTitle }}</h1>
      </div>

      <div class="topbar-right">

        <!-- Profile Dropdown -->
        <div class="profile-dropdown" (click)="toggleProfileDropdown()">
          <div class="profile-avatar">
            <span class="avatar-initials">{{ userInitials }}</span>
          </div>
          <div class="profile-info">
            <span class="profile-name">{{ userName }}</span>
            <span class="profile-role">Employee</span>
          </div>
          <span class="dropdown-arrow">â–¼</span>

          @if (showProfileDropdown) {
            <div class="dropdown-menu">
              @if (isAdmin) {
                <a (click)="switchToAdmin()" class="dropdown-item admin-switch">
                  <span>ğŸ‘¨â€ğŸ’¼</span> Switch to Admin
                </a>
              }
              <a [routerLink]="['/employee/profile']" class="dropdown-item">
                <span>ğŸ‘¤</span> My Profile
              </a>
              <a [routerLink]="['/employee/account']" class="dropdown-item">
                <span>ğŸ’°</span> My Points
              </a>
              <hr />
              <a (click)="logout()" class="dropdown-item logout">
                <span>ğŸšª</span> Logout
              </a>
            </div>
          }
        </div>
      </div>
    </header>

    <!-- Page Content -->
    <main class="page-content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
